import{s as a,g as c,h}from"./runtime-core.esm-bundler.DA8s6VvA.js";function v(r){let n=a(),u=r.subscribe(t=>{n.value=t});return c()&&h(u),n}let l=[],p=(r,n)=>{let u=[],t={get(){return t.lc||t.listen(()=>{})(),t.value},l:n||0,lc:0,listen(s,i){return t.lc=u.push(s,i||t.l)/2,()=>{let e=u.indexOf(s);~e&&(u.splice(e,2),--t.lc||t.off())}},notify(s){let i=!l.length;for(let e=0;e<u.length;e+=2)l.push(u[e],u[e+1],t.value,s);if(i){for(let e=0;e<l.length;e+=4){let f;for(let o=e+1;!f&&(o+=4)<l.length;)l[o]<l[e+1]&&(f=l.push(l[e],l[e+1],l[e+2],l[e+3]));f||l[e](l[e+2],l[e+3])}l.length=0}},off(){},set(s){t.value!==s&&(t.value=s,t.notify())},subscribe(s,i){let e=t.listen(s,i);return s(t.value),e},value:r};return t},b=p(!1);export{b as i,v as u};
